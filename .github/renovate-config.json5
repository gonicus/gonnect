{
    $schema: "https://docs.renovatebot.com/renovate-schema.json",
    extends: [
        "config:recommended",
        "helpers:pinGitHubActionDigests",
        ":disableDependencyDashboard"
    ],
    onboarding: false,
    requireConfig: "ignored",
    platform: "github",
    repositories: [
        "gonicus/gonnect"
    ],
    prConcurrentLimit: 0,
    prHourlyLimit: 5,
    semanticCommits: "enabled",
    packageRules: [
        {
            groupName: "github actions",
            matchPackageNames: [
                "actions/**",
                "github/codeql-action",
                "renovatebot/github-action"
            ]
        },
        {
            "groupName": "conan dependencies",
            "matchManagers": ["conan"]
        },
        {
            "matchPackageNames": [
                "hidapi/**",
                "libical/**",
                "libinotify/**",
                "libpulse/**",
                "openldap/**",
                "pjproject/**",
                "qca/**",
                "qtkeychain/**",
                "qtwebdav/**",
                "vcard/**",
                "wintoast/**",
            ],
            "matchManagers": ["conan"],
            "enabled": false
        },
        {
            "matchPackageNames": ["openssl/**"],
            "allowedVersions": "<3.6.0"
        }

    ],
    enabledManagers: [
        "github-actions", "custom.regex", "conan"
    ],
    customManagers: [
        {
            customType: "regex",
            fileMatch: [
                "^src/CMakeLists.txt$"
            ],
            matchStrings: [
                "# renovate-commit: packageName=(?<packageName>.*?)\\n\\s*GIT_TAG (?<currentDigest>.*?)\\n"
            ],
	        versioningTemplate: "git",
            currentValueTemplate: "master",
	        datasourceTemplate: "git-refs"
        },
        {
            customType: "regex",
            fileMatch: [
                "^src/CMakeLists.txt$"
            ],
            matchStrings: [
                "# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\n\\s*GIT_TAG (?<currentValue>.*?)\\n"
            ],
	        versioningTemplate: '{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}'
        }
    ],
    "customDatasources": {
        "pjproject": {
            "defaultRegistryUrlTemplate": "https://release-monitoring.org/api/project/379763",
            "transformTemplates": [
                '{"releases":[{\
                    "version": $$.(stable_versions[0]),\
                    "changelogUrl": $join(["https://github.com/", version_url, "/releases/tag/",data.stable_versions[0]]),\
                    "sourceUrl": $join(["https://github.com/", version_url]),\
                    "homepage": $$.(homepage)\
                    }]\
                }'
            ]
        },
        "libical": {
            "defaultRegistryUrlTemplate": "https://release-monitoring.org/api/project/1637",
            "transformTemplates": [
                '{"releases":[{\
                    "version": $$.(stable_versions[0]),\
                    "changelogUrl": $join(["https://github.com/", version_url, "/releases/tag/",data.stable_versions[0]]),\
                    "sourceUrl": $join(["https://github.com/", version_url]),\
                    "homepage": $$.(homepage)\
                    }]\
                }'
            ]
        },
        "wintoast": {
            "defaultRegistryUrlTemplate": "https://release-monitoring.org/api/project/386979",
            "transformTemplates": [
                '{"releases":[{\
                    "version": $$.(stable_versions[0]),\
                    "changelogUrl": $join(["https://github.com/", version_url, "/releases/tag/",data.stable_versions[0]]),\
                    "sourceUrl": $join(["https://github.com/", version_url]),\
                    "homepage": $$.(homepage)\
                    }]\
                }'
            ]
        },
        "qca": {
            "defaultRegistryUrlTemplate": "https://release-monitoring.org/api/project/13606",
            "transformTemplates": [
                '{"releases":[{\
                    "version": $$.(stable_versions[0]),\
                    "sourceUrl": $$.(version_url),\
                    "homepage": $$.(homepage)\
                    }]\
                }'
            ]
        },
        "qtkeychain": {
            "defaultRegistryUrlTemplate": "https://release-monitoring.org/api/project/381807",
            "transformTemplates": [
                '{"releases":[{\
                    "version": $$.(stable_versions[0]),\
                    "changelogUrl": $join([homepage, "/releases/tag/", data.stable_versions[0]]),\
                    "sourceUrl": $$.(homepage),\
                    "homepage": $$.(homepage)\
                    }]\
                }'
            ]
        }
    }
}
